{% extends 'URLshortener/base_form.html' %}

{% block head %} <title>Add URL</title> {% endblock %}

{% block form_title %}اضافه کردن URL {% endblock %}

{% block form_body %}
    <form id='add-url' class='mx-auto p-2' method='post' action="{% url 'URLshortener:add-url' %}">
        {% csrf_token %}

        {% for error in form.non_field_errors %}
            <div class='alert alert-danger alert-dismissable text-right small p-2 my-1 mx-auto'>
                {{ error }} 
                <button type="button" class="close float-left" data-dismiss="alert">&times; </button>
            </div>
        {% endfor %}

        
        <div class='row p-1'>
            <div class='col-sm-4 text-right px-2'>{{ form.address.label_tag }}</div>
            <div class='col-sm-8 px-2'>{{ form.address }}</div>
        </div>
        
        {% for error in form.address.errors %}
            <div class='alert alert-danger alert-dismissable text-right small p-2 my-1 mx-auto'>
                {{ error }} 
                <button type="button" class="close float-left" data-dismiss="alert">&times; </button>
            </div>
        {% endfor %}
        
        
        {% if added %}
            <div class='row p-1'>
                <div class='col-sm-4 text-right px-2'>{{ form.shortened_url.label_tag }}</div>
                <div class='col-sm-8 px-2'>{{ form.shortened_url }}</div>
            </div>
            <div class='text-right text-white'>
                <span>رفتن به: </span> <br>
                <a class='btn btn-info m-1' href="{% url 'URLshortener:home' %}">صفحه اصلی</a>
                <br>
                <a class='btn btn-info m-1' href="{% url 'URLshortener:dashboard' %}">پنل کاربری</a>
                <br>
                <a class='btn btn-info m-1' href="{% url 'URLshortener:add-url' %}">کوتاه کردن نشانی دیگر</a>
            </div>
        {% else %}
            <div class='text-center p-2'>
                <button type='submit' class='btn btn-success py-1 px-2'>کوتاه کردن</button>
            </div>
        {% endif %}
    </form>
{% endblock %}