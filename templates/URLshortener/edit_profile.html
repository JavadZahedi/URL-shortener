{% extends 'URLshortener/base_form.html' %}

{% block head %} <title>User Profile</title> {% endblock %}

{% block form_title %} ویرایش اطلاعات {% endblock %}

{% block form_body %}
    <form id='edit-profile' class='mx-auto p-2' method='post'
        action="{% url 'URLshortener:edit-profile' %}" enctype="multipart/form-data">
        {% csrf_token %}

        {% for error in user_form.non_field_errors %}
            <div class='alert alert-danger alert-dismissable text-right small p-2 my-1 mx-auto'>	
                <button type="button" class="close float-left" data-dismiss="alert">&times; </button>
                {{ error }}
            </div>
        {% endfor %}

        {% for error in profile_form.non_field_errors %}
            <div class='alert alert-danger alert-dismissable text-right small p-2 my-1 mx-auto'>	
                <button type="button" class="close float-left" data-dismiss="alert">&times; </button>
                {{ error }}
            </div>
        {% endfor %}

        {% for field in user_form.visible_fields %}
            <div class='row p-1'>
                <div class='col-sm-5 text-right px-2'>{{ field.label_tag }}</div>
                <div class='col-sm-7 text-center px-2'>{{ field }}</div>
            </div>
            
            {% for error in field.errors %}
                <div class='alert alert-danger alert-dismissable text-right small p-2 my-1 mx-auto'>
                    <button type="button" class="close float-left" data-dismiss="alert">&times; </button>
                    {{ error }}
                </div>
            {% endfor %}
        {% endfor %}

        {% for field in profile_form.visible_fields %}
            <div class='row p-1'>
                <div class='col-sm-5 text-right px-2'>{{ field.label_tag }}</div>
                <div class='col-sm-7 text-center px-2'>{{ field }}</div>
            </div>
            
            {% for error in field.errors %}
                <div class='alert alert-danger alert-dismissable text-right small p-2 my-1 mx-auto'>
                    <button type="button" class="close float-left" data-dismiss="alert">&times; </button>
                    {{ error }}
                </div>
            {% endfor %}
        {% endfor %}

        <div class='text-center p-2'>
            <button id='submit' type='submit' class='btn btn-primary py-1 px-2'>ذخیره</button>
        </div>
    </form>
{% endblock %}